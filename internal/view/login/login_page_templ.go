// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.833
package login

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import "fmt"

type LoginData struct {
	ClerkAuthHost       string
	ClerkPublishableKey string
}

func LoginPage(data LoginData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!doctype html><html lang=\"en\"><title>Beer Collection</title><link href=\"/assets/css/tailwind-output.gen.css\" rel=\"stylesheet\"><script defer src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\"></script><script async crossorigin=\"anonymous\" data-clerk-publishable-key=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(data.ClerkPublishableKey)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/view/login/login_page.templ`, Line: 16, Col: 93}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" src=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%s/npm/@clerk/clerk-js@latest/dist/clerk.browser.js", data.ClerkAuthHost))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/view/login/login_page.templ`, Line: 16, Col: 188}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "\" type=\"text/javascript\"></script><script type=\"text/javascript\">\n\t\t\twindow.addEventListener(\"load\", async function () {\n\t\t\t\ttry {\n\t\t\t\t\tawait Clerk.load();\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(\"Failed to load Clerk\", err);\n\t\t\t\t}\n\t\t\t});\n\t\t</script><body class=\"flex min-h-screen items-center justify-center p-4\"><div class=\"w-full max-w-md overflow-hidden rounded-2xl bg-white shadow-2xl\"><div class=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\"><div class=\"text-center sm:mx-auto sm:w-full sm:max-w-md\"><img src=\"/assets/img/pint-of-beer-svgrepo-com.svg\" class=\"mx-auto h-12 w-auto\" alt=\"Beer Collection\"><h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Welcome back</h2><p class=\"mt-2 text-sm text-gray-600\">Sign in to your account</p></div><div class=\"bg-white px-4 py-8 shadow sm:rounded-lg sm:px-10\"><form id=\"sign-in-form\" class=\"space-y-6\" x-data=\"{\n\t\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\t\tonSignIn: async function(e) {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tthis.loading=true; \n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tconst res = await Clerk.client.signIn.create({\n\t\t\t\t\t\t\t\t\t\t\tstrategy: &#39;password&#39;,\n\t\t\t\t\t\t\t\t\t\t\tidentifier: document.getElementById(&#39;username&#39;).value,\n\t\t\t\t\t\t\t\t\t\t\tpassword: document.getElementById(&#39;password&#39;).value,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (res.status === &#39;complete&#39;) {\n\t\t\t\t\t\t\t\t\t\t\tawait Clerk.setActive({ session: res.createdSessionId });\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconsole.error(&#39;Clerk sign in attempt has invalid status&#39;, JSON.stringify(res));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t\t\tif (err.clerkError) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.error(&#39;Failed to login&#39;, JSON.stringify(err));\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\" x-on:submit.prevent=\"onSignIn($event)\"><div><label for=\"username\" class=\"block text-sm font-medium text-gray-700\">Username</label><div class=\"mt-1\"><input id=\"username\" name=\"username\" type=\"text\" autocomplete=\"username\" required class=\"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"></div></div><div><label for=\"password\" class=\"block text-sm font-medium text-gray-700\">Password</label><div class=\"mt-1\"><input id=\"password\" name=\"password\" type=\"password\" autocomplete=\"current-password\" required class=\"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"></div></div><div><button type=\"submit\" class=\"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50\" x-html=\"loading ? `&lt;i class=&#39;uil uil-loding uil-sign-in-alt&#39;&gt;&lt;/i&gt; Please Wait ...` : &#39;Login&#39;\" x-bind:disabled=\"loading\">Sign in</button></div></form></div></div></div></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
